{"name":"Fixutils","tagline":"FIX Utilities and Tools","body":"## BinaryToFIX\r\nThis command line application can read FIX messages from log files or packet captures (.pcap) and writes CSV containing a row per message with just the fields you want in each row. If the message does not have that field in then a blank is written. \r\n```\r\nusage: org.messageforge.fixutil.bin2fix.BinaryToFIX\r\n-appDict <arg>       Application dictionary\r\n-appOnly             Filter session messages\r\n-compIDs <arg>       Filter Sender/TargetCompIDs (comma separated)\r\n-dir <arg>           Directory (all files will be parsed\r\n-fields <arg>        Fields (comma separated). Use \"Bytes\" to display the\r\n                      raw message\r\n-filter <arg>        Packet filter\r\n-in <arg>            Input file\r\n-millis              Convert latency to milliseconds\r\n-msgTypes <arg>      Filter message types (comma separated)\r\n-out <arg>           Output file\r\n-pcap                Indicates this is a pcap file and needs reassembly\r\n-sessionDict <arg>   Session dictionary (or both if pre FIX5.0)\r\n```\r\n\r\n### Packet Capture Example\r\n\r\nSay we have a pcap file containing lots of traffic. We've recorded the capture with tcpdump or maybe a download from something like a Corvil appliance. We know there is a FIX session on port 3031 that contains order flow. Lets pull it out, decode it and see whats happening - you will need to have [[libpcap|http://www.tcpdump.org/]] installed for this to work.\r\n\r\n\r\n```\r\nBinaryToFIX -in capture.pcap -out messages.csv \r\n            -fields MsgType,SenderCompID,TargetCompID,SecurityID,ClOrdID,OrderID,ExecType,ClRejReason,Text\r\n            -filter \"tcp port 3031\"\r\n```\r\n\r\nThe results in the following CSV:\r\n\r\n```\r\n\"Capture Timestamp\",\"Capture Micros\",\"Latency\",\"MsgType\",\"SenderCompID\",\"TargetCompID\",\"SecurityID\",\"ClOrdID\",\"OrderID\",\"ExecType\",\"CxlRejReason\",\"Text\"\r\n\"20150127-10:29:00.626\",\"1422354540626175\",\"\",\"D\",\"BANKA\",\"BROKER\",\"EUR 2Y\",\"37c9df75-b0c\",\"\",\"\",\"\",\"\"\r\n\"20150127-10:29:00.637\",\"1422354540637598\",\"11423\",\"8\",\"BROKER\",\"BANKA\",\"EUR 2Y\",\"37c9df75-b0c\",\"20150127422.0\",\"0\",\"\",\"\"\r\n\"20150127-10:29:00.662\",\"1422354540662951\",\"\",\"D\",\"BANKA\",\"BROKER\",\"EUR 3Y\",\"76c781cb-cfb\",\"\",\"\",\"\",\"\"\r\n\"20150127-10:29:00.665\",\"1422354540665779\",\"2828\",\"8\",\"BROKER\",\"BANKA\",\"EUR 3Y\",\"76c781cb-cfb\",\"20150127423.0\",\"0\",\"\",\"\"\r\n\"20150127-10:29:00.710\",\"1422354540710473\",\"\",\"D\",\"BANKA\",\"BROKER\",\"EUR 4Y\",\"1b8e2f94-132\",\"\",\"\",\"\",\"\"\r\n\"20150127-10:29:00.713\",\"1422354540713233\",\"2760\",\"8\",\"BROKER\",\"BANKA\",\"EUR 4Y\",\"1b8e2f94-132\",\"20150127424.0\",\"0\",\"\",\"\"\r\n\"20150127-10:29:00.741\",\"1422354540741122\",\"\",\"D\",\"BANKA\",\"BROKER\",\"EUR 5Y\",\"20b335f2-36c\",\"\",\"\",\"\",\"\"\r\n\"20150127-10:29:00.742\",\"1422354540742088\",\"\",\"D\",\"BANKA\",\"BROKER\",\"EUR 2Y\",\"9b7cba00-cca\",\"\",\"\",\"\",\"\"\r\n\"20150127-10:29:00.743\",\"1422354540743266\",\"2144\",\"8\",\"BROKER\",\"BANKA\",\"EUR 5Y\",\"20b335f2-36c\",\"20150127425.0\",\"0\",\"\",\"\"\r\n```\r\n\r\nFor any message that has at least one of the fields set that we define we get a row containing the fields and values if they're set - if the field is not present we just get a blank. \r\n\r\nAs the input is a pcap file, there is a capture timestamp in microseconds. This allows BinaryToFIX to give a latency between any `NewOrderSingle` or `OrderCancelReplaceRequest` and its corresponding `ExecutionReport` (correlated by `ClOrdID`) - you get the latency on the row with the `ExecutionReport`\r\n\r\nThe filter is a libpcap filter expression and its important that the filter matches a unique FIX TCP/IP stream as BinaryToFIX uses a simple way to deal with fragmented packets at the moment.\r\n\r\nFor the latency figures to be meaningful, one must ensure the capture was timely especially when dealing with a high throughput. A `tcpdump` on the local machine to the FIX engine may be better than nothing but it will affect the load on that machine and NIC. Better to offload the capture to a network sniffer or a dedicated machine with NIC designed for packet capture.\r\n\r\n### Log File Example\r\n\r\nMost FIX engines log messages to a file in their raw format and sometimes that file contains other logging between the messages. BinaryToFIX can search and extract FIX messages from logs files before using QuickFIX to parse and extract the fields you're interested in. Any non-FIX data in the logs is quietly ignored.\r\n\r\n```\r\nBinaryToFIX -in logfile.log -out messages.csv \r\n            -fields MsgType,SenderCompID,TargetCompID,SecurityID,ClOrdID,OrderID,ExecType,ClRejReason,Text\r\n```\r\n\r\nThe only difference in the output CSV is that as we don't have any capture timestamps, no latency calculations can be made so those columns are missing from the output.\r\n\r\n### Building and Using\r\n\r\nYou'll need a pcap library on the machine you run BinaryToFIX on - http://www.winpcap.org or http://www.tcpdump.org. The project has a simple ant `build.xml` file that builds the project in the `target` directory.\r\n\r\nThe code includes Eclipse `.project` and `.classpath` files.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}